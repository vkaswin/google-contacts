"use strict";(self.webpackChunkgoogle_contacts=self.webpackChunkgoogle_contacts||[]).push([[154],{1154:(F,p,i)=>{i.d(p,{p:()=>w});var t=i(1571),c=i(6895),d=i(1489),o=i(433),s=i(1561),m=i(787),u=i(3169);const h=function(r){return["/contact/label",r]};function f(r,a){if(1&r&&(t.TgZ(0,"button",42),t._uU(1),t.qZA()),2&r){const n=a.$implicit;t.Q6J("routerLink",t.VKq(2,h,n._id)),t.xp6(1),t.hij(" ",n.name," ")}}function g(r,a){if(1&r&&(t.TgZ(0,"button",43),t._UZ(1,"i",44),t.TgZ(2,"span",45),t._uU(3,"Label"),t.qZA()()),2&r){t.oxw();const n=t.MAs(13);t.Q6J("matMenuTriggerFor",n)}}const _=function(r){return[r,"icon-check","text-blue","text-xl"]};function b(r,a){if(1&r){const n=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(l){const L=t.CHM(n).$implicit,U=t.oxw();return t.KtG(U.handleClickLabel(l,L._id))}),t.TgZ(1,"div",47)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"i"),t.qZA()()}if(2&r){const n=a.$implicit,e=t.oxw();t.xp6(3),t.Oqu(n.name),t.xp6(1),t.Tol(t.VKq(3,_,e.labelIds.has(n._id)?"block":"hidden"))}}function y(r,a){if(1&r){const n=t.EpF();t.TgZ(0,"div",48)(1,"button",49),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.handleSubmit())}),t._uU(2," Save "),t.qZA()()}}const x=function(){return{minlength:"Nick name should contain atleast 3 characters",pattern:"Nick name should contain alphapets only"}};function O(r,a){if(1&r&&t._UZ(0,"app-input",50),2&r){const n=t.oxw();t.Q6J("control",n.nickName)("hasError",n.isSubmitted&&null!==n.nickName.errors)("readOnly",n.isReadOnly)("errorMessage",t.DdM(4,x))}}function Z(r,a){if(1&r&&t._UZ(0,"app-input",51),2&r){const n=t.oxw();t.Q6J("control",n.department)("readOnly",n.isReadOnly)}}const D=function(){return{pattern:"Invalid pincode"}};function T(r,a){if(1&r&&(t.TgZ(0,"div",24),t._UZ(1,"i",52),t.TgZ(2,"div",26),t._UZ(3,"app-input",53)(4,"app-input",54)(5,"app-input",55)(6,"app-input",56)(7,"app-input",57)(8,"app-input",58),t.qZA()()),2&r){const n=t.oxw();t.xp6(3),t.Q6J("control",n.country)("readOnly",n.isReadOnly),t.xp6(1),t.Q6J("control",n.addressLine1)("readOnly",n.isReadOnly),t.xp6(1),t.Q6J("control",n.addressLine2)("readOnly",n.isReadOnly),t.xp6(1),t.Q6J("readOnly",n.isReadOnly),t.xp6(1),t.Q6J("readOnly",n.isReadOnly),t.xp6(1),t.Q6J("hasError",n.isSubmitted&&null!==n.pincode.errors)("readOnly",n.isReadOnly)("errorMessage",t.DdM(11,D))}}const v=function(){return{pattern:"Invalid website url"}};function C(r,a){if(1&r&&(t.TgZ(0,"div",30),t._UZ(1,"i",59),t.TgZ(2,"div",26),t._UZ(3,"app-input",60),t.qZA()()),2&r){const n=t.oxw();t.xp6(3),t.Q6J("control",n.website)("hasError",n.isSubmitted&&null!==n.website.errors)("readOnly",n.isReadOnly)("errorMessage",t.DdM(4,v))}}const E=function(r){return{backgroundColor:r}},k=function(){return{required:"Please enter first name",minlength:"First name should contain atleast 3 characters",pattern:"First name should contain alphapets only"}},N=function(){return{minlength:"First name should contain atleast 3 characters",pattern:"Last name should contain alphapets only"}},M=function(){return{email:"Invalid email"}},A=function(){return{required:"Please enter phone number",pattern:"Invalid phone number"}},I=function(){return{pattern:"Invalid birthday date"}};let w=(()=>{class r{constructor(){this.isReadOnly=!1,this.contactDetail={},this.labels=[],this.onSubmit=new t.vpe,this.onClose=new t.vpe,this.onApplyLabel=new t.vpe,this.isExpanded=!1,this.isSubmitted=!1,this.labelIds=new Set,this.router=(0,t.f3M)(o.qu),this.formBuilder=(0,t.f3M)(o.qu),this.form=this.formBuilder.group({firstName:this.formBuilder.control("",[o.kI.required,o.kI.minLength(3),o.kI.pattern(/^[a-zA-Z]*$/)]),lastName:this.formBuilder.control("",[o.kI.minLength(3),o.kI.pattern(/^[a-zA-Z]*$/)]),nickName:this.formBuilder.control("",[o.kI.minLength(3),o.kI.pattern(/^[a-zA-Z]*$/)]),company:this.formBuilder.control(""),jobTitle:this.formBuilder.control(""),department:this.formBuilder.control(""),email:this.formBuilder.control("",[o.kI.email]),phone:this.formBuilder.control("",[o.kI.required,o.kI.pattern(/^(\+?[0-9]{1,4}[\s\-]?)?(\(?[0-9]{3}\)?|[0-9]{3})[\s\-]?[0-9]{3}[\s\-]?[0-9]{4}$/)]),country:this.formBuilder.control(""),addressLine1:this.formBuilder.control(""),addressLine2:this.formBuilder.control(""),state:this.formBuilder.control(""),city:this.formBuilder.control(""),pincode:this.formBuilder.control("",[o.kI.pattern(/^\d{6}$/)]),birthday:this.formBuilder.control("",[o.kI.pattern(/^\d{4}-\d{2}-\d{2}$/)]),website:this.formBuilder.control("",[o.kI.pattern(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/)]),notes:this.formBuilder.control("")})}get firstName(){return this.form.controls.firstName}get lastName(){return this.form.controls.lastName}get nickName(){return this.form.controls.nickName}get company(){return this.form.controls.company}get jobTitle(){return this.form.controls.jobTitle}get department(){return this.form.controls.department}get email(){return this.form.controls.email}get phone(){return this.form.controls.phone}get addressLine1(){return this.form.controls.addressLine1}get addressLine2(){return this.form.controls.addressLine2}get state(){return this.form.controls.state}get city(){return this.form.controls.city}get pincode(){return this.form.controls.pincode}get birthday(){return this.form.controls.birthday}get website(){return this.form.controls.website}get notes(){return this.form.controls.notes}get country(){return this.form.controls.country}ngOnChanges(n){n.contactDetail&&(this.contactDetail=n.contactDetail.currentValue,(0,u.xb)(this.contactDetail)||(this.form.setValue({firstName:this.contactDetail.firstName,lastName:this.contactDetail.lastName,nickName:this.contactDetail.nickName,company:this.contactDetail.company,jobTitle:this.contactDetail.jobTitle,department:this.contactDetail.department,email:this.contactDetail.email,phone:this.contactDetail.phone,country:this.contactDetail.country,addressLine1:this.contactDetail.addressLine1,addressLine2:this.contactDetail.addressLine2,state:this.contactDetail.state,city:this.contactDetail.city,pincode:this.contactDetail.pincode,birthday:this.contactDetail.birthday,website:this.contactDetail.website,notes:this.contactDetail.notes}),this.labelIds=new Set(this.contactDetail.labels.map(({_id:e})=>e))))}handleExpand(){this.isExpanded=!this.isExpanded}handleSubmit(){this.isSubmitted||(this.isSubmitted=!0),this.form.valid&&this.onSubmit.emit(this.form.value)}handleClickLabel(n,e){n.stopPropagation(),this.labelIds.has(e)?this.labelIds.delete(e):this.labelIds.add(e)}handleApplyLabel(){this.onApplyLabel.emit(this.labelIds)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-form"]],inputs:{isReadOnly:"isReadOnly",contactDetail:"contactDetail",labels:"labels"},outputs:{onSubmit:"onSubmit",onClose:"onClose",onApplyLabel:"onApplyLabel"},standalone:!0,features:[t.TTD,t.jDz],decls:53,vars:46,consts:[[1,"sticky","top-0","left-0","h-52","border-b","border-b-gray-300","z-10","bg-white"],[1,"flex","justify-between","h-full"],[1,"flex","items-center","gap-7"],[1,"self-start","mt-4"],[1,"icon-close","text-dark-gray","text-2xl","cursor-pointer",3,"click"],[1,"relative","flex","justify-center","items-center","w-32","h-32","bg-[#c2e7ff]","rounded-full"],[1,"text-4xl","text-white"],[1,"flex","gap-3","flex-col","self-center"],[1,"flex","gap-3","flex-nowrap"],["class","text-sm bg-transparent border-1 border-[#c4c7c5] rounded px-3 py-1 hover:bg-[#EDEDED] transition-colors",3,"routerLink",4,"ngFor","ngForOf"],["class","flex items-center justify-center gap-1 text-sm border-1 border-gray-500 rounded-md hover:bg-light-gray bg-white w-20 transition-colors duration-200",3,"matMenuTriggerFor",4,"ngIf"],["label",""],[1,"max-h-56","overflow-y-auto"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"flex","justify-end","border-t-1","border-gray-300","pt-3","pr-3"],[1,"text-blue","text-sm","font-medium","bg-transparent","w-20","h-8","hover:bg-[#DBE7F8]","rounded","transition-colors",3,"click"],["class","self-end justify-start w-[150px] pb-6",4,"ngIf"],[1,"mt-6","pl-6","w-[50%]"],[1,"flex","items-start","gap-5"],[1,"icon-account-outline","text-gray","text-2xl"],[1,"flex","flex-col","gap-7","w-full"],["label","First Name","name","firstName",3,"control","hasError","readOnly","errorMessage"],["label","Last Name","name","lastName",3,"control","hasError","readOnly","errorMessage"],["label","Nick Name","name","nickName",3,"control","hasError","readOnly","errorMessage",4,"ngIf"],[1,"flex","items-start","gap-5","mt-5"],[1,"icon-office-building-outline","text-gray","text-2xl"],[1,"flex","flex-col","gap-4","w-full"],["label","Company","name","company",3,"control","readOnly"],["label","Job Title","name","jobTitle",3,"control","readOnly"],["label","Department","name","department",3,"control","readOnly",4,"ngIf"],[1,"flex","items-center","gap-5","mt-5"],[1,"icon-email-outline","text-gray","text-2xl"],["label","Email","name","email",3,"control","hasError","readOnly","errorMessage"],[1,"icon-phone-outline","text-gray","text-2xl"],["label","Phone","name","phone",3,"control","hasError","readOnly","errorMessage"],["class","flex items-start gap-5 mt-5",4,"ngIf"],[1,"icon-cake-variant-outline","text-gray","text-2xl"],["label","Birthday","name","birthday",3,"control","hasError","readOnly","errorMessage"],["class","flex items-center gap-5 mt-5",4,"ngIf"],[1,"icon-note-outline","text-gray","text-2xl"],["label","Notes","name","notes",3,"control","readOnly"],[1,"my-5","hover:bg-sky-blue","text-light-blue","font-medium","rounded-full","px-3","py-2","text-sm","transition-colors","duration-200",3,"click"],[1,"text-sm","bg-transparent","border-1","border-[#c4c7c5]","rounded","px-3","py-1","hover:bg-[#EDEDED]","transition-colors",3,"routerLink"],[1,"flex","items-center","justify-center","gap-1","text-sm","border-1","border-gray-500","rounded-md","hover:bg-light-gray","bg-white","w-20","transition-colors","duration-200",3,"matMenuTriggerFor"],[1,"icon-pencil-outline","text-lg","text-blue"],[1,"text-dark-gray","text-sm","font-medium"],["mat-menu-item","",3,"click"],[1,"flex","gap-3","justify-between","items-center"],[1,"self-end","justify-start","w-[150px]","pb-6"],[1,"bg-blue","text-white","px-5","py-2","text-sm","font-medium","rounded-full",3,"click"],["label","Nick Name","name","nickName",3,"control","hasError","readOnly","errorMessage"],["label","Department","name","department",3,"control","readOnly"],[1,"icon-map-marker-outline","text-gray","text-2xl"],["label","Country","name","country",3,"control","readOnly"],["label","Street address","name","addressLine1",3,"control","readOnly"],["label","Street address line 2","name","addressLine2",3,"control","readOnly"],["label","State","name","state",3,"readOnly"],["label","City","name","city",3,"readOnly"],["label","Pincode","name","pincode",3,"hasError","readOnly","errorMessage"],[1,"icon-link","text-gray","text-2xl"],["label","Website","name","website",3,"control","hasError","readOnly","errorMessage"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"i",4),t.NdJ("click",function(){return e.onClose.emit()}),t.qZA()(),t.TgZ(5,"div",5)(6,"span",6),t._uU(7),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,f,2,4,"button",9),t.qZA(),t.YNc(11,g,4,1,"button",10),t.TgZ(12,"mat-menu",null,11)(14,"div",12),t.YNc(15,b,5,5,"button",13),t.qZA(),t.TgZ(16,"div",14)(17,"button",15),t.NdJ("click",function(){return e.handleApplyLabel()}),t._uU(18," Apply "),t.qZA()()()()(),t.YNc(19,y,3,0,"div",16),t.qZA()(),t.TgZ(20,"form",17)(21,"div",18),t._UZ(22,"i",19),t.TgZ(23,"div",20),t._UZ(24,"app-input",21)(25,"app-input",22),t.YNc(26,O,1,5,"app-input",23),t.qZA()(),t.TgZ(27,"div",24),t._UZ(28,"i",25),t.TgZ(29,"div",26),t._UZ(30,"app-input",27)(31,"app-input",28),t.YNc(32,Z,1,2,"app-input",29),t.qZA()(),t.TgZ(33,"div",30),t._UZ(34,"i",31),t.TgZ(35,"div",26),t._UZ(36,"app-input",32),t.qZA()(),t.TgZ(37,"div",30),t._UZ(38,"i",33),t.TgZ(39,"div",26),t._UZ(40,"app-input",34),t.qZA()(),t.YNc(41,T,9,12,"div",35),t.TgZ(42,"div",30),t._UZ(43,"i",36),t.TgZ(44,"div",26),t._UZ(45,"app-input",37),t.qZA()(),t.YNc(46,C,4,5,"div",38),t.TgZ(47,"div",30),t._UZ(48,"i",39),t.TgZ(49,"div",26),t._UZ(50,"app-input",40),t.qZA()(),t.TgZ(51,"button",41),t.NdJ("click",function(){return e.handleExpand()}),t._uU(52),t.qZA()()),2&n&&(t.xp6(5),t.Akn(t.VKq(39,E,e.contactDetail.colorCode)),t.xp6(2),t.AsE("",e.contactDetail.firstName&&e.contactDetail.firstName.charAt(0).toUpperCase(),"",e.contactDetail.lastName&&e.contactDetail.lastName.charAt(0).toUpperCase()," "),t.xp6(3),t.Q6J("ngForOf",e.contactDetail.labels),t.xp6(1),t.Q6J("ngIf",!e.isReadOnly),t.xp6(4),t.Q6J("ngForOf",e.labels),t.xp6(4),t.Q6J("ngIf",!e.isReadOnly),t.xp6(5),t.Q6J("control",e.firstName)("hasError",e.isSubmitted&&null!==e.firstName.errors)("readOnly",e.isReadOnly)("errorMessage",t.DdM(41,k)),t.xp6(1),t.Q6J("control",e.lastName)("hasError",e.isSubmitted&&null!==e.lastName.errors)("readOnly",e.isReadOnly)("errorMessage",t.DdM(42,N)),t.xp6(1),t.Q6J("ngIf",e.isExpanded),t.xp6(4),t.Q6J("control",e.company)("readOnly",e.isReadOnly),t.xp6(1),t.Q6J("control",e.jobTitle)("readOnly",e.isReadOnly),t.xp6(1),t.Q6J("ngIf",e.isExpanded),t.xp6(4),t.Q6J("control",e.email)("hasError",e.isSubmitted&&null!==e.email.errors)("readOnly",e.isReadOnly)("errorMessage",t.DdM(43,M)),t.xp6(4),t.Q6J("control",e.phone)("hasError",e.isSubmitted&&null!==e.phone.errors)("readOnly",e.isReadOnly)("errorMessage",t.DdM(44,A)),t.xp6(1),t.Q6J("ngIf",e.isExpanded),t.xp6(4),t.Q6J("control",e.birthday)("hasError",e.isSubmitted&&null!==e.birthday.errors)("readOnly",e.isReadOnly)("errorMessage",t.DdM(45,I)),t.xp6(1),t.Q6J("ngIf",e.isExpanded),t.xp6(4),t.Q6J("control",e.notes)("readOnly",e.isReadOnly),t.xp6(2),t.hij(" Show ",e.isExpanded?"less":"more"," "))},dependencies:[c.ez,c.sg,c.O5,m.a,d.Bz,d.rH,s.Tx,s.VK,s.OP,s.p6],encapsulation:2}),r})()}}]);