"use strict";(self.webpackChunkgoogle_contacts=self.webpackChunkgoogle_contacts||[]).push([[757],{9757:(C,l,e)=>{e.r(l),e.d(l,{EditContactComponent:()=>m});var n=e(1571),p=e(6895),i=e(1489),r=e(8010),d=e(1154),u=e(5999);let m=(()=>{class o{constructor(){this.contactDetail={},this.contactService=(0,n.f3M)(u.y),this.activatedRoute=(0,n.f3M)(i.gz),this.router=(0,n.f3M)(i.F0),this.snackBar=(0,n.f3M)(r.ux)}get labels(){return this.contactService.labels}ngOnInit(){this.activatedRoute.paramMap.subscribe(a=>{let t=a.get("contactId");t&&this.getContactDetail(t)})}showSnackBar(a){this.snackBar.open(a,"",{duration:3e3})}getContactDetail(a){this.contactService.getContactById(a).subscribe(({data:{contact:t}})=>{this.contactDetail=t})}handleFormSubmit(a){let t=this.activatedRoute.snapshot.params.contactId;t&&this.contactService.updateContactById(t,a).subscribe(()=>{this.handleCloseForm()})}handleCloseForm(){this.router.navigateByUrl("/contact/list")}handleApplyLabel(a){let t=this.activatedRoute.snapshot.params.contactId;t&&this.contactService.updateContactLabel(t,{labels:[...a]}).subscribe(({message:c})=>{this.showSnackBar(c),this.getContactDetail(t)})}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-edit-contact"]],standalone:!0,features:[n.jDz],decls:1,vars:3,consts:[[3,"isReadOnly","contactDetail","labels","onClose","onSubmit","onApplyLabel"]],template:function(a,t){1&a&&(n.TgZ(0,"app-contact-form",0),n.NdJ("onClose",function(){return t.handleCloseForm()})("onSubmit",function(s){return t.handleFormSubmit(s)})("onApplyLabel",function(s){return t.handleApplyLabel(s)}),n.qZA()),2&a&&n.Q6J("isReadOnly",!1)("contactDetail",t.contactDetail)("labels",t.labels)},dependencies:[p.ez,d.p,r.ZX],encapsulation:2}),o})()}}]);